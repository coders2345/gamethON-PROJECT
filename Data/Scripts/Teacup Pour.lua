local Ease3D = require(script:GetCustomProperty("Ease3D"))
local Duration = script:GetCustomProperty("Duration")
local Teacup_Mover = script:GetCustomProperty("Teacup_Mover"):WaitForObject()
local Teacup_Target_Pos = script:GetCustomProperty("Teacup_Target_Pos")
local Teacup_Axis = script:GetCustomProperty("Teacup_Axis"):WaitForObject()
local Teacup_Target_Rot = script:GetCustomProperty("Teacup_Target_Rot")
local Tea_Surface = script:GetCustomProperty("Tea_Surface"):WaitForObject()
local Tea_Surface_Target_Pos = script:GetCustomProperty("Tea_Surface_Target_Pos")
local Tea_Surface_Target_Rot = script:GetCustomProperty("Tea_Surface_Target_Rot")
local Pour = script:GetCustomProperty("Pour"):WaitForObject()
local Pour_Target_Scale = script:GetCustomProperty("Pour_Target_Scale")
local SplashFX = script:GetCustomProperty("SplashFX"):WaitForObject()


local Teacup_Start_Pos = Teacup_Mover:GetPosition()
local Teacup_Start_Rot = Teacup_Axis:GetRotation()
local Tea_Surface_Start_Pos = Tea_Surface:GetPosition()
local Tea_Surface_Start_Rot = Tea_Surface:GetRotation()
local Pour_Start_Scale = Pour:GetScale()

function Tick()
    --Using a tick function to test
    Ease3D.EasePosition(Teacup_Mover, Teacup_Target_Pos, Duration*.3, Ease3D.EasingEquation.CUBIC, Ease3D.EasingDirection.INOUT)
    Ease3D.EasePosition(Teacup_Mover, Teacup_Target_Pos - Vector3.New(0,70,0), Duration*.3, Ease3D.EasingEquation.SINE, Ease3D.EasingDirection.INOUT)
	Ease3D.EaseRotation(Teacup_Axis, Teacup_Target_Rot, Duration*.25, Ease3D.EasingEquation.CUBIC, Ease3D.EasingDirection.INOUT)
    Ease3D.EasePosition(Tea_Surface, Tea_Surface_Target_Pos, Duration*.25, Ease3D.EasingEquation.SINE, Ease3D.EasingDirection.INOUT)
    Ease3D.EaseRotation(Tea_Surface, Tea_Surface_Target_Rot, Duration*.25, Ease3D.EasingEquation.SINE, Ease3D.EasingDirection.INOUT)
    Ease3D.EaseScale(Pour, Pour_Target_Scale, Duration*.3, Ease3D.EasingEquation.SINE, Ease3D.EasingDirection.INOUT)
    Task.Wait(Duration*.2)
    Pour.visibility = Visibility.FORCE_ON
    Task.Wait(Duration*.05)
    SplashFX:Play()
    Task.Wait(Duration*.25)
    Ease3D.EasePosition(Teacup_Mover, Teacup_Target_Pos, Duration*.2, Ease3D.EasingEquation.BACK, Ease3D.EasingDirection.INOUT)
    Ease3D.EaseRotation(Teacup_Axis, Teacup_Start_Rot, Duration*.2, Ease3D.EasingEquation.CUBIC, Ease3D.EasingDirection.INOUT)
    Ease3D.EasePosition(Tea_Surface, Tea_Surface_Start_Pos, Duration*.2, Ease3D.EasingEquation.SINE, Ease3D.EasingDirection.INOUT)
    Ease3D.EaseRotation(Tea_Surface, Tea_Surface_Start_Rot, Duration*.2, Ease3D.EasingEquation.SINE, Ease3D.EasingDirection.INOUT)
    Ease3D.EaseScale(Pour, Pour_Start_Scale, Duration*.07, Ease3D.EasingEquation.EXPONENTIAL, Ease3D.EasingDirection.INOUT)
    Task.Wait(Duration*.06)
    Pour.visibility = Visibility.FORCE_OFF
    SplashFX:Stop()
    Task.Wait(Duration*.14)
    Ease3D.EasePosition(Teacup_Mover, Teacup_Start_Pos, Duration*.2, Ease3D.EasingEquation.BOUNCE, Ease3D.EasingDirection.OUT)
    Task.Wait(Duration*.4)
end